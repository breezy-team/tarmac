==============================
Plugin Configuration and Usage
==============================

Run Command Plugin
==================

  The run command plugin is a pre-commit plugin that executes a specified
command, and, if it succeeds, continues with the merge.  This command is
usually used to build the branch, fetch dependencies, and run one's tests.  It
is important to understand that running a script like this probably means
executing arbitrary code, so this script should also be properly jailed from
the main system.

  To enable the test command, simply add the ``test_command`` setting to a
project's configuration, as shown.::

  [tarmac]
  test_command=./configure; make; make install; trial tarmac.tests

  This example is a bit exaggerated.  Normally, only one script is invoked that
executes all of these commands.

  If the command fails, the output of the command is added as a merge proposal
comment.  This allows the proposer to see why the branch failed, and remedy the
situation.  *Note:* Normally, Tarmac should also set the merge proposal status
to 'Work in Progress', but this is currently broken in Launchpad, and causes
Tarmac to hang.  This will be remedied in Tarmac as soon as it is fixed in
Launchpad.


Commit Message Template Plugin
==============================

  The commit message template plugin allows one to specify a template for
commit messages so they all match eachother.  The template currently supports
three variables:

author
  ``author`` is the display name of the owner of the source branch, or the
  branch proposed for merging.

commit_message
  ``commit_message`` is the commit message as specified in the merge proposal.

reviewer
  ``reviewer`` is the display name of the user who approved the merge proposal.

  To specify a commit message template, simply set the
``commit_message_template`` in the project's configuration, as shown.::

  [tarmac]
  commit_message_template=<commit_message> (reviewed by <reviewer>)

  In this case, if the reviewer was "Red Green", and the commit message was
"Add more widgets to fizzbuzz", the commit message of the merge would be "Add
more widgets to fizzbuzz (reviewed by Red Green)"


CIA.vc Plugin
=============

  The CIA.vc is a post commit plugin notifies the service at CIA.vc of the new
revision.  To activate this plugin, simply set the ``cia_project``
configuration variable, and optionally, the ``cia_server`` configuration
variable as well (it defaults to ``http://cia.vc``).  For example.::

  [tarmac]
  cia_project=tarmac
  cia_server=http://cia.vc

